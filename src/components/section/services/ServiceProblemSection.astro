---
import { Image } from "astro:assets";

interface Props {
  title: string,
  image: ImageMetadata,
  imageAlt: string,
  introText?: string,
  problems: string[],
  imagePosition?: "left" | "right"
}

const { title, image, imageAlt, introText, problems, imagePosition } = Astro.props;
---

<section id="problem-section" class="max-w-6xl mx-auto py-10 lg:py-20">
    <div class="problem-heading mb-8 opacity-0">
      <h2 class="text-center text-[min(10vw,42px)] font-playfair">
      {title}
    </h2>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 items-center">
      <div id="problem-image" class="w-full flex items-center justify-center opacity-0">
        <Image
          src={image}
          alt={imageAlt}
          priority={true}
          class="object-cover w-full max-w-sm"

        />
      </div>
      <div id="problem-hurts" class="w-full flex flex-col justify-center">
        {introText && (
          <h4 class="text-smokyBlack font-poppins mb-4 text-center md:text-left text-xl md:text-2xl font-semibold leading-tight opacity-0">
            {introText}
          </h4>
          <ul class="flex flex-col gap-2">
            {problems.map((hurt) => (
              <li class="hurts font-openSans text-lg flex items-center gap-2 px-2 opacity-0">
                <span class="w-3 h-3 bg-accentGold rounded-full flex-shrink-0" />
                {hurt}
              </li>
            ))}
          </ul>
        )}
      </div>
    </div>
  </section>

  <script>
    import { gsapProblemAnimation } from "@/utils/scripts/perPageAnimations/servicesAnimations/servicesProblemAnimation";
    
    document.addEventListener("DOMContentLoaded", () => {
      gsapProblemAnimation();
    });
  </script>
